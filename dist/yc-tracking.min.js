/*! yc-tracking - v0.0.1 - 2015-02-10 - Soprex */
(function(){function t(t){"use strict";var e=function(){var t=903,e="//event.yoochoose.net/api/"+t,n=30,i="YCStore",o=function(){var t="yc_localStorageTest";try{return r.localStorage.setItem(t,t),r.localStorage.removeItem(t),!0}catch(e){return!1}},a=function(){return o()?JSON.parse(r.localStorage.getItem(i)):null},c=function(t){if(!o())throw"Local storage not supported!";r.localStorage.setItem(i,JSON.stringify(t))},u=function(){var t=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},s=function(t){var e=a(),r=new Date;return r.setDate(r.getDate()+n),t||(t=e&&e.expires>(new Date).getTime()?e.userId:u()),c({userId:t,expires:r.getTime()}),t},f=function(t){var e,i="YCCookie",o=r.document.cookie,a=new Date,c=o.indexOf(" "+i+"=");return a.setDate(a.getDate()+n),t||(-1===c&&(c=o.indexOf(i+"=")),-1===c?t=u():(c=o.indexOf("=",c)+1,e=o.indexOf(";",c),-1===e&&(e=o.length),t=decodeURI(o.substring(c,e)))),r.document.cookie=i+"="+encodeURI(t)+"; expires="+a.toUTCString()+"; path=/",t},d=function(t){return o()?s(t):f(t)},h=function(t){var n=new Image(1,1);n.src=e+t};return this.trackClick=function(t,e,n){var r="/click/"+d()+"/"+t+"/"+e;return n&&(r+="?categorypath="+encodeURIComponent(n)),h(r),this},this.trackRate=function(t,e,n){var r="/rate/"+d()+"/"+t+"/"+e+"?rating="+n;return h(r),this},this.trackBasket=function(t,e,n){var r="/basket/"+d()+"/"+t+"/"+e;return n&&(r+="?categorypath="+encodeURIComponent(n)),h(r),this},this.trackBuy=function(t,e,n,r,i){var o="/buy/"+d()+"/"+t+"/"+e+"?fullprice="+r+i+"&quantity="+n;return h(o),this},this.trackLogin=function(t){return h("/login/"+d()+"/"+encodeURIComponent(t)),d(t),this},this.trackRendered=function(t,e){var n="/rendered/"+d()+"/"+t+"/";return Array.isArray(e)||(e=[e]),h(n+e.join(",")),this},this.trackClickRecommended=function(t,e,n){var r="/clickrecommended/"+d()+"/"+t+"/"+e+"?scenario="+encodeURIComponent(n);return h(r),this},this.trackConsume=function(t,e){return h("/consume/"+d()+"/"+t+"/"+e),this},this.trackBlacklist=function(t,e){var n="/blacklist/"+d()+"/"+t+"/"+e;return h(n),this},this},n={validateInt:function(t,e){var n=/^-?\d+$/.test(t);if(!n&&e)throw"Param is not valid. Expected integer.";return n},validateFloat:function(t,e){var n=/^-?\d*(\.\d*)?$/.test(t);if(!n&&e)throw"Param is not valid. Expected number.";return n}};t.YcTracking=e,t.YcValidator=n}function e(t){"use strict";t.YcTracking}var n=Function,r=new n("return this")(),i=function(n){return t(n),e(n),n.YcTracking};"function"==typeof define&&define.amd?define(function(){return i({})}):i(this)})(this);